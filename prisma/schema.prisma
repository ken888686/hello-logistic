generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_PRISMA_URL")
}

enum Role {
  USER
  ADMIN
}

model User {
  id             Int           @id @default(autoincrement())
  username       String        @unique @db.VarChar(255)
  password       String        @db.VarChar(255)
  email          String        @unique @db.VarChar(255)
  display_name   String?       @db.VarChar(255)
  first_name     String?       @db.VarChar(255)
  last_name      String?       @db.VarChar(255)
  photo_url      String?       @db.VarChar(255)
  email_verified Boolean       @default(false)
  enabled        Boolean       @default(true)
  role           Role          @default(USER)
  create_at      DateTime      @default(now())
  update_at      DateTime      @updatedAt
  userAddress    UserAddress[]
  UserPayment    UserPayment[]
}

model UserAddress {
  id            Int     @id @default(autoincrement())
  user_id       Int
  user          User    @relation(fields: [user_id], references: [id])
  address_line1 String? @db.VarChar(255)
  address_line2 String? @db.VarChar(255)
  city          String  @db.VarChar(255)
  postal_code   String  @db.VarChar(255)
  country       String  @db.VarChar(255)
  telephone     String  @db.VarChar(255)
  mobile        String  @db.VarChar(255)
}

model UserPayment {
  id           Int     @id @default(autoincrement())
  user_id      Int
  user         User    @relation(fields: [user_id], references: [id])
  payment_type String? @db.VarChar(255)
  provider     String? @db.VarChar(255)
  account_no   String? @db.VarChar(255)
  expiry_date  String? @db.VarChar(255)
}
